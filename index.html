<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>San ValentÃ­n</title>

<style>
body{
margin:0;
font-family:sans-serif;
background:linear-gradient(135deg,#ff758c,#ff7eb3);
color:white;
text-align:center;
overflow:hidden;
}

.pagina{
padding:20px;
height:100vh;
display:flex;
flex-direction:column;
justify-content:center;
align-items:center;
animation:fade 1s;
}

button{
padding:12px 20px;
margin:10px;
font-size:18px;
border:none;
border-radius:10px;
cursor:pointer;
}

img{
width:200px;
border-radius:15px;
margin:10px;
}

.collage{
display:flex;
flex-wrap:wrap;
justify-content:center;
}

.mensaje{
margin-top:10px;
font-size:20px;
}

@keyframes fade{
from{opacity:0}
to{opacity:1}
}

.foto{
position:absolute;
width:120px;
animation:caer 6s linear infinite;
}

@keyframes caer{
from{transform:translateY(-150px);}
to{transform:translateY(110vh);}
}
</style>

</head>
<body>

<div class="pagina">
<h1>Lilier</h1>
<h2>Quiero preguntarte algo especialâ€¦</h2>
<button onclick="pagina2()">Siguiente</button>
</div>

<script>
function pagina2(){
document.body.innerHTML=`
<div class="pagina">
<h2>Nuestros momentos juntos ðŸ’•</h2>
<div class="collage">
<img src="foto1.jpg">
<img src="foto2.jpg">
<img src="foto3.jpg">
</div>
<button onclick="preguntas()">Continuar</button>
</div>`;
}

function preguntas(){
document.body.innerHTML=`
<div class="pagina">
<h2>Mini reto ðŸ’•</h2>
<p>Â¿CuÃ¡ndo es nuestro aniversario?</p>
<input id="p2" placeholder="">
<button onclick="revisar()">Responder</button>
<div class="mensaje" id="msg"></div>
</div>`;
}

function revisar(){
let r=document.getElementById("p2").value.toLowerCase();

if(r=="2 de marzo"){
cuenta();
}else{
document.getElementById("msg").innerText=
"Casiâ€¦ intenta otra vez ðŸ’•";
}
}

function cuenta(){
let n=3;
document.body.innerHTML=`
<div class="pagina">
<h1 id="contador">3</h1>
</div>`;

let inter=setInterval(()=>{
n--;
document.getElementById("contador").innerText=n;

if(n==0){
clearInterval(inter);
juego();
}
},1000);
}

function juego(){
document.body.innerHTML=`
<div class="pagina">
<h2>Toca el corazÃ³n ðŸ’–</h2>
<button onclick="preguntaFinal()">ðŸ’–</button>
</div>`;
}

function moverNo(){
let b=document.getElementById("noBtn");
b.style.position="absolute";
b.style.top=Math.random()*80+"%";
b.style.left=Math.random()*80+"%";
}

function preguntaFinal(){
document.body.innerHTML=`
<div class="pagina">
<h1>Lilier</h1>
<h2>Â¿Quieres ser mi San ValentÃ­n? ðŸ’•</h2>

<button onclick="final()">SÃ­</button>
<button id="noBtn" onmouseover="moverNo()">No</button>
</div>`;
}

function reiniciar(){
location.reload();
}

function final(){
document.body.innerHTML=`
<canvas id="fireworks"></canvas>

<div class="pagina" style="position:absolute;z-index:2;">
<h1>ðŸ’– Â¡Dijo que sÃ­! ðŸ’–</h1>
<h2>Gracias por todos nuestros momentos juntos</h2>
<h3>Te quiero mucho ðŸ’•</h3>
<h3>Con cariÃ±o, Gabo</h3>

<button onclick="reiniciar()">Ver nuestros momentos otra vez</button>
</div>

<img src="foto1.jpg" class="foto" style="left:10%; animation-delay:0s;">
<img src="foto2.jpg" class="foto" style="left:40%; animation-delay:2s;">
<img src="foto3.jpg" class="foto" style="left:70%; animation-delay:4s;">
`;

const canvas=document.getElementById("fireworks");
const ctx=canvas.getContext("2d");
canvas.width=window.innerWidth;
canvas.height=window.innerHeight;

let particles=[];

function firework(){
let x=Math.random()*canvas.width;
let y=Math.random()*canvas.height/2;

for(let i=0;i<60;i++){
particles.push({
x,y,
dx:(Math.random()-0.5)*6,
dy:(Math.random()-0.5)*6,
life:60
});
}
}

function animate(){
ctx.fillStyle="rgba(0,0,0,0.2)";
ctx.fillRect(0,0,canvas.width,canvas.height);

particles.forEach((p,i)=>{
ctx.fillStyle="hsl("+Math.random()*360+",100%,50%)";
ctx.fillRect(p.x,p.y,3,3);

p.x+=p.dx;
p.y+=p.dy;
p.life--;

if(p.life<=0) particles.splice(i,1);
});

requestAnimationFrame(animate);
}

setInterval(firework,800);
animate();
}
</script>

</body>
</html>